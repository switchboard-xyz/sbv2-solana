{
  "fileName": "jobAccount.ts",
  "filePath": "javascript/solana.js/src/accounts/jobAccount.ts",
  "url": "https://github.com/switchboard-xyz/sbv2-solana/blob/master/javascript/solana.js/src/accounts/jobAccount.ts",
  "summary": "The `JobAccount` class in this code is responsible for managing and interacting with Switchboard Jobs on the Solana blockchain. Switchboard Jobs are a list of tasks (`OracleJob.Task`) that dictate how to source off-chain data. The data is stored in the `types.JobAccountData` format.\n\nThe class provides several static methods for creating, loading, and decoding Job accounts:\n\n- `JobAccount.load`: Loads an existing JobAccount with its current on-chain state.\n- `JobAccount.createInstructions`: Generates instructions for creating a new JobAccount.\n- `JobAccount.create`: Creates a new JobAccount and sends the transactions to the Solana blockchain.\n- `JobAccount.decode`: Decodes the `types.JobAccountData` from an `AccountInfo` object.\n- `JobAccount.decodeJob`: Decodes an `OracleJob` from an `AccountInfo` object.\n- `JobAccount.fetchMultiple`: Fetches multiple Job accounts and their data from the Solana blockchain.\n\nAdditionally, the class provides instance methods for interacting with a specific Job account:\n\n- `JobAccount.loadData`: Retrieves and decodes the `types.JobAccountData` stored in the account.\n- `JobAccount.toAccountsJSON`: Returns a JSON representation of the Job account and its data.\n\nThe `JobInitParams` interface defines the parameters required for creating a new Job account, such as the data, weight, name, authority, expiration, variables, and keypair.\n\nThe `JobAccountsJSON` type represents a JSON object containing the Job account's public key, tasks, and other data in the `types.JobAccountDataJSON` format.\n\nOverall, this code is essential for managing Switchboard Jobs on the Solana blockchain, allowing developers to create, load, and interact with Job accounts and their data.",
  "questions": "1. **Question**: What is the purpose of the `JobAccount` class and how does it relate to the SwitchboardTasks and OracleJob?\n   \n   **Answer**: The `JobAccount` class represents an account type that stores a list of SwitchboardTasks (OracleJob.Task) which dictate how to source data off-chain. It provides methods to interact with, load, and manipulate the data stored in the account, as well as create and fetch multiple job accounts.\n\n2. **Question**: How does the `createInstructions` method work and what are the limitations on the size of the job data?\n\n   **Answer**: The `createInstructions` method generates instructions to create a new JobAccount with the given parameters. It handles job data that is larger than the CHUNK_SIZE (800 bytes) by splitting it into chunks and creating separate transactions for each chunk. The total size of the job data must be less than 6400 bytes.\n\n3. **Question**: How does the `fetchMultiple` method work and what is the expected output format?\n\n   **Answer**: The `fetchMultiple` method retrieves multiple JobAccount instances and their associated data by providing an array of public keys. It returns an array of objects containing the JobAccount instance, the decoded JobAccountData, and the decoded OracleJob for each public key. The commitment level can be specified as an optional parameter, with the default value being 'confirmed'."
}